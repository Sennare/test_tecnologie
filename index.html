<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="joint.css" />
    <link rel="stylesheet" href="style.css" />
    <script src="jquery.js"></script>
    <script src="lodash.js"></script>
    <script src="backbone.js"></script>
    <script src="joint.js"></script>
</head>
<body>
  <button id="add_rect">Add rect</button>
  <div id="myholder"></div>
  <script type="text/javascript">
/*
var graph = new joint.dia.Graph;
var paper = new joint.dia.Paper({
  el: $('#myholder'),
  width: 800,
  height: 600,
  gridSize: 5,
  model: graph
});

var boundary = [
  '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 232.65 200.78"><defs><style>.cls-1,.cls-2{fill:#fff;}.cls-2{stroke:#000;stroke-miterlimit:10;}</style></defs><title>Asset 1</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><circle class="cls-1" cx="132.26" cy="100.39" r="99.89" transform="translate(-32.25 122.93) rotate(-45)"/><path d="M132.26,1a99.39,99.39,0,1,1-99.39,99.39A99.5,99.5,0,0,1,132.26,1m0-1A100.39,100.39,0,1,0,232.65,100.39,100.39,100.39,0,0,0,132.26,0Z"/><line class="cls-2" x1="0.5" y1="27.61" x2="0.5" y2="178.19"/><line class="cls-2" x1="0.5" y1="100.39" x2="33.13" y2="100.39"/></g></g></svg>'
].join('');


var el1 = new joint.shapes.basic.Image({
  size: {
    width: 100,
    height: 100
  },
  position: {
    x: 100,
    y: 100
  },
  attrs: {
    image: {
        width: 100,
        height: 100,
        'xlink:href': 'data:image/svg+xml;utf8,' + encodeURIComponent(boundary),
        preserveAspectRatio: 'xMinYMin slice'
    },
    text: { 'font-size': 14, 'ref-x': .5, 'ref-y': -2, ref: 'image', 'y-alignment': 'middle', 'x-alignment': 'middle', 'text': 'test' }
  }
});

var el2 = el1.clone().position(0,300);

graph.addCells([el1, el2]);
*/


    $.get('./elements/boundary.svg', function(svg){
        var boundary_svg = [
          svg
        ].join('');
      start(actor, boundary, control, entity);
    }, 'text');

    var graph = new joint.dia.Graph;
    var paper = new joint.dia.Paper({
      el: $('#myholder'),
      width: 800,
      height: 600,
      gridSize: 5,
      model: graph
    });

    function start(actor, boundary, control, entity) {
      var el1 = new joint.shapes.basic.Image({
          size: {
            width: 100,
            height: 100
          },
          position: {
            x: 100,
            y: 100
          },
          attrs: {
            image: {
                width: 100,
                height: 100,
                'xlink:href': 'data:image/svg+xml;utf8,' + encodeURIComponent(boundary),
                preserveAspectRatio: 'xMinYMin slice'
            },
            text: { 'font-size': 14, 'ref-x': .5, 'ref-y': -2, ref: 'image', 'y-alignment': 'middle', 'x-alignment': 'middle', 'text': 'test' }
          }
        });

        var el2 = el1.clone().position(0,300);

        graph.addCells([el1, el2]);
    }

  </script>
</body>
</html>